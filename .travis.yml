#################################
# General setup
#################################
sudo: false
language: python

python:
  - "3.4"

notifications:
  email: false

#################################
# Build Lifecycle
#################################
install:
  - echo "-----install-----"
  - pip install --upgrade pip wheel
  - pip install -r dev-requirements.txt
  - pip install coveralls

script:
  - echo "-----script-----"
  - nosetests --with-cov --cov ci_setup_check --cov-config .coverage.rc --logging-level=INFO

# Calculate coverage
after_success:
  - echo "-----after_success-----"
  - coveralls

deploy:
  provider: pypi
  user: dougthor42
  password:
    secure: KOXA3T4PIsw5yg7HH1032S2v+mkK/nGznRseR7p9Wp+DxjS4YQ/aqYrXNE3HMT4Ak7t6k75tJAZXlhbwduEFXppucDB7Nsk/l9GOGQLGwqQKLdrX8a17WixehPvCHDGAZNMoZEH2+64mruYBIejD0aVX/h2X9v2RbqAHcbiBzIo=
  server: https://testpypi.python.org/pypi
  distributions: "sdist bdist_wheel"
#  on:
#    tags: true
